 {{!-- <div class="signup-form">
 <form action="" method="post" enctype="multipart/form-data">
  <div class="mb-3 row">
    <h5 id="Create-acc">Add new Product</h5>
    <label for="staticEmail" class="col-sm-2 col-form-label">Image</label>
    <div class="col-sm-10">
      <input type="file" required  class="form-control2" name="image">
    </div>
  </div>

     <div class="mb-3 row">
    <label for="staticEmail" class="col-sm-2 col-form-label">Name</label>
    <div class="col-sm-10">
      <input type="text" required  class="form-control2" name="name">
    </div>
  </div>


  <div class="mb-3 row">
    <label for="staticEmail" class="col-sm-2 col-form-label">Description</label>
    <div class="col-sm-10">
      <input type="text" required  class="form-control2" name="description">
    </div>
  </div>

 <div class="mb-3 row">
     <select class="form-select" aria-label="Category" type="text" name="category" placeholder="enter category" required>
                        {{#each Category}}
                        <option value="{{_id}}">{{this.Name}}</option>
                        {{/each}}
                    </select>
  </div>

  <div class="mb-3 row">
    <label class="col-sm-2 col-form-label">Price</label>
    <div class="col-sm-10">
      <input type="number" required  class="form-control2" name="price">
    </div>
  </div>

      <div class="mb-3 row">
    <label class="col-sm-2 col-form-label">Stock</label>
    <div class="col-sm-10">
      <input type="number" required  class="form-control2" name="stock">
    </div>
  </div>

<div>
  <input type="hidden" name="id" value="{{products._id}}">
</div>
  
  <div class="row sign-btn2">
    <button type="submit" class="signup-btn btn-primary">Update</button>
  </div>
  </form>
  </div> --}}

  

{{!-- temp --}}

<div class="container">
		<h1>Add Product</h1>
		<form action="" method="POST" enctype="multipart/form-data" onsubmit="validateForm()">
      <div class="form-group">
				<label for="image">Image</label>
				<input type="file" class="form-control" id="name" name="image" >
			</div>
			<div class="form-group">
				<label for="name">Product Name:</label>
				<input type="text" class="form-control" id="name" name="name" required>
			</div>
      <div class="form-group">
			    <select class="form-select" aria-label="Category" type="text" name="category" placeholder="enter category" required>
            <option value="Category" >Category</option>
                        {{#each Category}}
                        <option value="{{_id}}">{{this.Name}}</option>
                        {{/each}}
                    </select>
			</div>
			<div class="form-group">
				<label for="description">Product Description:</label>
				<input class="form-control" id="description" name="description" >
			</div>
			<div class="form-group">
				<label for="price">Price:</label>
				<input type="number" class="form-control" id="price" min="1" name="price"  step="0.01" required>
			</div>
			<div class="form-group">
				<label for="quantity">Stock:</label>
				<input type="number" class="form-control" id="stock" min="1" name="stock"  required>
			</div>
         <div>
        <input type="hidden" name="id" value="{{products._id}}">
    </div>
			<button type="submit" class="btn btn-primary">Add Product</button>
		</form>
	</div>


<script>
function validateForm() {
  var imageInput = document.getElementById("image");
  var imageError = document.getElementById("image-error");
  if (imageInput.value) {
    var allowedTypes = ["image/jpeg", "image/png", "image/gif"];
    var maxFileSize = 5 * 1024 * 1024; // 5 MB
    if (allowedTypes.indexOf(imageInput.files[0].type) === -1) {
      imageError.innerHTML = "Please select a valid image file (JPEG, PNG, GIF).";
      return false;
    } else if (imageInput.files[0].size > maxFileSize) {
      imageError.innerHTML = "The selected image file exceeds the maximum size of 5 MB.";
      return false;
    } else {
      return true;
    }
  } else {
    imageError.innerHTML = "Please select an image file.";
    return false;
  }
}
</script>





